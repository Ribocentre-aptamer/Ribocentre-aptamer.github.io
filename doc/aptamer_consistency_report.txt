# Aptamer JSON数据一致性检查报告

## 概述

本报告对两个aptamer JSON文件中的数据一致性进行了详细检查，比较了`name`字段和`link`字段中的页面名称是否一致。

## 检查文件

1. **无3D结构适配体文件**: `apidata/aptamer_no_3d_enhanced.json`
2. **有3D结构适配体文件**: `apidata/aptamer_3d_enhanced.json`

## 检查方法

### 一致性判断标准

1. **完全匹配**: 标准化后的名称和文件名完全相同
2. **包含匹配**: 文件名包含在名称中，或名称包含在文件名中
3. **部分匹配**: 至少50%的字符匹配
4. **不匹配**: 无法找到任何关联

### 标准化处理

- 转换为小写
- 移除特殊字符（保留字母、数字、空格、连字符）
- 将多个空格替换为单个空格
- 移除首尾空格

## 统计结果

### 无3D结构适配体文件

| 指标 | 数值 |
|------|------|
| 总项目数 | 128 |
| 一致项目数 | 24 |
| 不一致项目数 | 104 |
| 一致性比例 | 18.8% |

### 有3D结构适配体文件

| 指标 | 数值 |
|------|------|
| 总项目数 | 53 |
| 一致项目数 | 36 |
| 不一致项目数 | 17 |
| 一致性比例 | 67.9% |

## 详细分析

### 一致性类型分布

#### 无3D结构适配体
- **完全匹配**: 0个项目 (0%)
- **包含匹配**: 24个项目 (18.8%)
- **部分匹配**: 0个项目 (0%)
- **不匹配**: 104个项目 (81.2%)

#### 有3D结构适配体
- **完全匹配**: 0个项目 (0%)
- **包含匹配**: 36个项目 (67.9%)
- **部分匹配**: 0个项目 (0%)
- **不匹配**: 17个项目 (32.1%)

## 问题分析

### 主要问题类型

1. **缩写与全称不匹配**
   - 例如: "Fluorescein" vs "FB-1-aptamer"
   - 例如: "Basic fibroblast growth factor" vs "bFGF-aptamer"

2. **编号系统不一致**
   - 例如: "ATP(2)" vs "rafl7s-aptamer"
   - 例如: "ATP(3)" vs "bG40min-aptamer"

3. **命名约定不同**
   - 例如: "Vascular Endothelial Growth Factor" vs "VEGF-aptamer"
   - 例如: "Protein kinase C" vs "PKC-aptamer"

4. **特殊字符处理**
   - 例如: "hTNF α" vs "hTNF-α-aptamer"
   - 例如: "Estrogen receptor α" vs "ERα-aptamer"

5. **URL编码问题**
   - 例如: "Amyloid beta-peptide" vs "%CE%B255-aptamer"

### 典型不一致案例

#### 无3D结构适配体中的问题案例

1. **Fluorescein** → **FB-1-aptamer**
   - 问题: 使用缩写而非全称
   - 建议: 统一使用全称或缩写

2. **ATP(2)** → **rafl7s-aptamer**
   - 问题: 编号系统与文件名完全不相关
   - 建议: 建立统一的命名规则

3. **Vascular Endothelial Growth Factor** → **VEGF-aptamer**
   - 问题: 全称与缩写混用
   - 建议: 选择一种命名方式并保持一致

#### 有3D结构适配体中的问题案例

1. **Mango II** → **Mango-aptamer(TO1-biotin)**
   - 问题: 版本标识与文件名不匹配
   - 建议: 文件名应包含版本信息

2. **HTLV-1 arginine-rich Rex peptide** → **HTLV-1-Rex-peptide-aptamer**
   - 问题: 详细描述与简化文件名
   - 建议: 建立统一的命名标准

## 改进建议

### 短期改进

1. **建立命名规范文档**
   - 定义统一的命名规则
   - 明确缩写和全称的使用场景

2. **创建映射表**
   - 建立名称与文件名的对应关系
   - 便于维护和查找

3. **修复URL编码问题**
   - 处理特殊字符的URL编码
   - 确保链接的正确性

### 长期改进

1. **自动化检查工具**
   - 开发定期检查脚本
   - 及时发现新的不一致问题

2. **数据库重构**
   - 考虑使用更结构化的数据存储
   - 建立主键和外键关系

3. **用户界面优化**
   - 在显示时提供多种名称选项
   - 支持模糊搜索和自动补全

## 结论

当前两个JSON文件的数据一致性存在较大问题，特别是无3D结构适配体文件的一致性比例仅为18.8%。主要问题集中在命名规范不统一、缩写使用不一致、以及特殊字符处理等方面。

建议优先处理URL编码问题和建立统一的命名规范，以提高数据的可维护性和用户体验。

## 附录

详细的数据对比表格已保存为CSV文件：
- `aptamer_no_3d_consistency_data.csv`
- `aptamer_3d_consistency_data.csv`

---

*报告生成时间: 2024年12月*
*检查工具: check_aptamer_consistency.py* 