# 适配体数据可视化仪表板

## 功能概述

这个交互式数据可视化仪表板提供了多维度的适配体数据分析功能，帮助研究人员更好地理解和探索适配体数据库中的信息。

## 页面布局

```
┌────────────────────────────┐
│    顶栏：全局搜索框 + 重置按钮  │
├───────────┬───────────────┤
│左栏（60%） │右栏（40%）         │
│1⃣ 散点图    │3⃣ 饼图：ligand     │
│   length VS gc │（可下钻）     │
│   〈brush可选〉│4⃣ 饼图：gc_bin   │
│2⃣ 柱状图：year_bin          │
└───────────┴───────────────┘
```

## 主要功能

### 1. 全局搜索与筛选
- **搜索框**：支持按配体名称、年份、适配体名称等进行搜索
- **重置按钮**：一键清除所有筛选条件
- **数据计数**：实时显示当前筛选结果的数据量

### 2. 散点图 (length VS gc_content)
- **X轴**：序列长度 (bp)
- **Y轴**：GC含量 (%)
- **颜色编码**：按年份着色
- **交互功能**：
  - 鼠标悬停查看详细信息
  - 框选区域进行数据筛选
  - 双击清除选择

### 3. 柱状图 (年份分布)
- **X轴**：年份区间（1990-1999, 2000-2004, 2005-2009, 2010-2014, 2015-2019, 2020+）
- **Y轴**：适配体数量
- **交互功能**：
  - 点击柱子筛选特定年份范围
  - 高亮显示已选择的年份区间

### 4. 饼图 - 配体分布（可下钻）
- **正常模式**：显示前10个最常见的配体分布
- **下钻模式**：点击饼图扇区可查看该配体的详细分布
- **返回按钮**：从下钻模式返回主视图

### 5. 饼图 - GC含量区间分布
- **区间**：< 40%, 40-50%, 50-60%, ≥ 60%
- **交互功能**：点击扇区筛选特定GC含量范围

### 6. 详细数据表格
- **可折叠设计**：点击标题展开/收起表格
- **限制显示**：最多显示前100条筛选结果
- **列信息**：名称、配体、长度、GC含量、年份、亲和力、链接

## 数据源

- **原始数据**：`_data/sequences-NEW.csv`
- **清洗后数据**：`_data/sequences_cleaned.json`
- **数据量**：568条有效记录

## 技术实现

### 前端技术栈
- **可视化库**：Plotly.js
- **样式框架**：Bootstrap 5
- **图标库**：Font Awesome 6
- **浏览器兼容性**：现代浏览器（支持ES6+）

### 数据处理
- **语言**：Python 3
- **清洗脚本**：`data_cleaner.py`
- **输出格式**：JSON

## 使用方式

### 访问入口
1. **主页资源卡片**：点击"数据可视化"卡片
2. **搜索分类链接**：从搜索区域的分类链接进入
3. **直接访问**：`/interactive_dashboard.html`

### 交互操作
1. **筛选数据**：使用搜索框或点击图表元素
2. **多重筛选**：可同时应用多个筛选条件
3. **重置筛选**：点击"重置筛选"按钮清除所有筛选
4. **下钻分析**：在配体饼图中点击扇区进行详细分析

## 性能优化

- **数据懒加载**：仅在需要时加载详细表格数据
- **图表响应式**：自动适配不同屏幕尺寸
- **缓存机制**：避免重复数据处理
- **限制显示**：表格最多显示100条记录以提高性能

## 浏览器要求

- **推荐浏览器**：Chrome 90+, Firefox 88+, Safari 14+, Edge 90+
- **最低要求**：支持ES6和Fetch API的现代浏览器
- **移动设备**：支持触摸交互，响应式设计

## 故障排除

### 常见问题

1. **数据加载失败**
   - 检查 `_data/sequences_cleaned.json` 文件是否存在
   - 确认网络连接正常

2. **图表显示异常**
   - 刷新页面重新加载
   - 检查浏览器控制台错误信息

3. **交互功能无响应**
   - 确认JavaScript已启用
   - 检查浏览器兼容性

### 维护说明

- **数据更新**：重新运行 `data_cleaner.py` 生成新的JSON文件
- **样式调整**：修改 `css/dashboard.css` 文件
- **功能扩展**：在 `interactive_dashboard.html` 中添加新的图表组件

---

如需帮助或反馈，请联系开发团队。 